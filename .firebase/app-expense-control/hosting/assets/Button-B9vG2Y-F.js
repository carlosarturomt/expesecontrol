import{r as o,j as e,I as n,N}from"./index-MhEWOU30.js";const k=({onClick:c,disabled:s,text:d,bgColor:a,isSubmit:x})=>e.jsx("button",{type:x?"submit":"button",className:`${a||"bg-main-blue/80"} ${a&&a.includes("bg-main-light")?"text-main-prusia":"text-white"} w-full flex-center gap-1 text-sm font-semibold bg-main-highlight/70 text-white rounded-3xl p-3 transition-colors duration-200 hover:bg-main-primary-dark`,onClick:c,disabled:s,children:d});function F({label:c,titleSectionOne:s,itemsSectionOne:d=[],titleSectionTwo:a,itemsSectionTwo:x=[]}){const f=o.useRef(null),[r,l]=o.useState(!1),[m,h]=o.useState(null),[u,b]=o.useState(null),p=t=>{f.current&&!f.current.contains(t.target)&&setTimeout(()=>{l(!1)},"100")},i=t=>{t.key==="Escape"&&r&&l(!1)};o.useEffect(()=>(document.addEventListener("mousedown",p),document.addEventListener("keydown",i),()=>{document.removeEventListener("mousedown",p),document.removeEventListener("keydown",i)})),o.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[r]);const g=t=>{h(t)},y=t=>{b(t)};return e.jsxs("div",{className:"inline-block",children:[e.jsx("button",{className:`h-fit p-4 rounded-3xl font-medium text-sm ml-2 my-1 text-main-dark ${r?"opacity-100":"opacity-50"} `,"aria-haspopup":"true","aria-controls":c,onClick:()=>l(!r),ref:f,children:c}),e.jsx("div",{className:`absolute top-0 left-0 w-full h-screen z-[100] bg-main-dark/80 ${r?"block":"hidden"} modal-fullscreen`,children:e.jsxs("div",{className:"flex flex-col mt-24 p-4 rounded-md bg-[#eaebee] shadow-sm shadow-main-dark/30",children:[e.jsxs("ul",{className:"pb-2",children:[e.jsx("li",{className:"py-2 font-semibold text-main-dark",children:s}),d.map((t,j)=>e.jsx("li",{className:"text-sm",children:e.jsxs("button",{className:`flex px-3 items-center gap-2 text-left w-fit py-1 rounded-3xl ${m===t.label?"border border-main-highlight/70 text-main-dark font-semibold":"text-main-dark hover:font-semibold"}`,value:t.label,onClick:()=>{t.slug(),g(t.label)},children:[e.jsx("i",{className:"flex-center w-4 h-4",children:t.icon}),t.label,m===t.label&&e.jsx("i",{className:"flex-center w-4 h-4",children:n.tick.border("#00A86B")})]})},j))]}),e.jsxs("ul",{children:[e.jsx("li",{className:"py-2 font-semibold border-t border-main-dark/20 text-main-dark",children:a}),x.map((t,j)=>e.jsx("li",{className:"text-sm",children:e.jsxs("button",{className:`flex px-3 items-center gap-2 text-left w-fit py-1 rounded-3xl ${u===t.anchor?"border border-main-highlight/70 text-main-dark font-semibold":"text-main-dark hover:font-semibold"}`,value:t.anchor,onClick:()=>{t.slug(),y(t.anchor)},children:[e.jsx("i",{className:"flex-center w-4 h-4",children:t.icon}),t.label,u===t.anchor&&e.jsx("i",{className:"flex-center w-4 h-4",children:n.tick.border("#00A86B")})]})},j))]})]})})]})}function v({context:c,data:s,onEdit:d,onDelete:a,expandedGastoId:x,onCardClick:f}){const[r,l]=o.useState(0),m=-50,h=-150,u=i=>{i.currentTarget.startX=i.touches[0].clientX},b=i=>{const g=i.touches[0].clientX-i.currentTarget.startX,y=Math.max(Math.min(g,0),h);l(y)},p=()=>{r<=h?(a(),l(0)):(r<=m&&d(),l(0))};return e.jsxs("div",{className:"relative flex items-center bg-main-dark/5 rounded-3xl overflow-hidden",children:[e.jsxs("div",{className:"relative w-full transition-transform duration-300 rounded-3xl",style:{transform:`translateX(${r}px)`},onTouchStart:u,onTouchMove:b,onTouchEnd:p,children:[e.jsxs("div",{className:`flex justify-between items-center p-4 ${r==-150&&"w-11/12"}`,onClick:()=>f(s.id),children:[e.jsx("span",{className:"text-main-dark font-medium",children:s.title}),e.jsx("span",{className:`font-semibold ${s.gasto?"text-main-primary":"text-main-highlight"}`,children:s.gasto?e.jsxs(e.Fragment,{children:["-",new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(s.gasto)]}):e.jsxs(e.Fragment,{children:["+",new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(s.ingreso)]})})]}),x===s.id&&e.jsxs("div",{className:"px-4 pb-4 text-sm text-main-dark/60",children:[s.createdAt&&e.jsxs("p",{className:"flex flex-col pb-2 border-b border-main-dark/20",children:[e.jsx("strong",{className:"font-medium text-main-dark",children:"Fecha"}),(s.createdAt instanceof Date?s.createdAt:s.createdAt.toDate()).toLocaleDateString()]}),s.remarks&&e.jsxs("p",{className:"flex flex-col py-2 border-b border-main-dark/20",children:[e.jsx("strong",{className:"font-medium text-main-dark",children:"Notas"}),s.remarks]}),e.jsxs("div",{className:"flex items-center pt-3 gap-2 flex-wrap",children:[s.type&&e.jsx("p",{className:"w-fit flex flex-col py-1 px-2 rounded-3xl text-main-light bg-main-highlight",children:s.type.includes("card")&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:n.credit_card.border("#F5F6FA")}),s.type=="card1"&&c.paymentTypes.card1||s.type=="card2"&&c.paymentTypes.card2||s.type=="cash"&&"efectivo"]})||s.type.includes("cash")&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:n.money.border("#F5F6FA")}),s.type=="cash"&&"Efectivo"]})||s.type.includes("other")&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:n.bitcoin.border("#F5F6FA")}),s.type=="other"&&"Otro"]})}),s.category&&e.jsx("p",{className:"w-fit flex flex-col py-1 px-2 rounded-3xl text-main-light bg-main-primary",children:s.category=="feeding"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:n.restaurant.fill("#F5F6FA")}),"Alimentación y Bebidas"]})||s.category=="transportation"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:n.transportation.border("#F5F6FA")}),"Transporte"]})||s.category=="personalCare"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:n.beauty.border("#F5F6FA")}),"Ropa y Cuidado Personal"]})||s.category=="entertainment"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:n.theater_masks.border("#F5F6FA")}),"Entretenimiento y Ocio"]})||s.category=="housing"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:n.house.border("#F5F6FA")}),"Vivienda"]})||s.category=="health"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:n.care.border("#F5F6FA")}),"Salud y Bienestear"]})||s.category=="educationJob"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:n.ruler.border("#F5F6FA")}),"Educación o Trabajo"]})}),(s.image||s.fileURL)&&e.jsxs(N,{to:s.image&&s.image.imageURL||s.fileURL,target:"_blank",className:"w-fit flex-center gap-1 py-1 px-2 rounded-3xl text-main-light bg-main-dark",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:n.ticket.border("#F5F6FA")}),"ticket"]})]})]})]}),e.jsx("div",{className:`absolute inset-y-0 bg-main-highlight/70 text-white flex items-center justify-center transition-all duration-300 ${r==-150?"right-1/4":"right-0"}`,style:{width:`${Math.abs(r)>=Math.abs(m)?"25%":"0%"}`,opacity:Math.abs(r)>=Math.abs(m)?1:0},onClick:d,children:"Editar"}),e.jsx("div",{className:"absolute inset-y-0 right-0 bg-main-primary/70 text-white flex items-center justify-center transition-all duration-300",style:{width:`${Math.abs(r)>=Math.abs(h)?"25%":"0%"}`,opacity:Math.abs(r)>=Math.abs(h)?1:0},onClick:a,children:"Eliminar"})]})}export{F,v as S,k as a};
