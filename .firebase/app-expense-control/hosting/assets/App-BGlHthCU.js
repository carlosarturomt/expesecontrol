import{r as h,j as e,c as w,a as N,u as y,s as p,d,b as x,g as k,U as v}from"./index-DlwZ3ARx.js";import{I as u,S as F,B as C,a as l}from"./Button-blbwZC_a.js";const S=()=>{const[t,m]=h.useState({username:"",email:"",password:""}),[s,f]=h.useState({email:"",password:"",username:""}),o=a=>{const{name:n,value:r}=a.target;f({...s,[n]:r})},g=()=>{const a={};return(s.email.length<8||!/\S+@\S+\.\S+/.test(s.email))&&(a.email="Invalid email."),s.password.length<3&&(a.password="Password is too short."),(s.username.length<6||s.username.includes(" "))&&(a.username="Username must be at least 6 characters and not contain spaces."),m(a),a},j=async a=>{const n=d(x,"userData",a);return!(await k(n)).exists()},b=async a=>{a.preventDefault();const n=g();if(Object.keys(n).length>0){console.log(n);return}const r=s.username;if(!await j(r)){m(i=>({...i,username:"Username already in use. Please choose another one."})),console.log("Username already exists:",r);return}try{const c=(await w(N,s.email,s.password)).user;await y(c,{username:s.username}),await p(d(x,`userAuth/${c.uid}`),{uid:c.uid,email:s.email,password:s.password,displayName:"",username:r,registrationDate:new Date().toISOString(),providerId:c.providerData[0].providerId,rol:"user"}),await p(d(x,`userData/${r}`),{basicInf:{firstName:"",lastName:"",secondLastName:"",gender:"",birthDate:"",maritalStatus:"",profileDescription:"",website:"",language:"",socialMediaHandles:{twitter:"",linkedin:"",instagram:"",facebook:""}},contactInf:{phoneNumbers:{personal:""},email:s.email,emailPersonal:"",username:r,password:s.password,address:{region:"",country:"",mexicoState:"",currentCity:"",nearestAirport:""}},uid:c.uid,registrationDate:new Date().toISOString()})}catch(i){console.error("Error creating user:",i),m({general:i.message})}};return e.jsxs("form",{className:"flex-center flex-col p-6 rounded-xl w-10/12 bg-white -mt-60 mb-60",children:[e.jsx("h1",{className:"text-xl font-semibold mb-3 text-main-dark",children:"Registrarse"}),e.jsxs("div",{className:"w-full flex flex-wrap",children:[e.jsx(u,{name:"email",value:s.email,onChange:o,placeholder:"Correo electrónico",type:"email",classIcon:"bg-white/50"}),t.email&&e.jsx("span",{className:"text-sm text-red-600",children:t.email}),e.jsx(u,{name:"password",value:s.password,onChange:o,placeholder:"Contraseña",type:"password",classIcon:"bg-white/50"}),e.jsx(u,{name:"username",value:s.username,onChange:o,placeholder:"Username",type:"text",classIcon:"bg-white/50"}),t.general&&e.jsx("span",{className:"text-sm text-red-600",children:t.general})]}),e.jsx("div",{className:"w-full my-3 flex-center",children:e.jsx(F,{text:"Registrar",onClick:b})})]})},D=()=>e.jsx(C,{children:e.jsx(S,{})}),I=()=>e.jsx("footer",{className:"fixed w-11/12 max-w-screen-sm mx-auto bottom-4 rounded-3xl p-2 flex items-center justify-center font-semibold backdrop-blur-sm text-main-light bg-main-highlight/70 shadow-lg px-6",children:e.jsxs("ul",{className:"w-full flex items-center justify-between",children:[e.jsxs("li",{className:"flex-center gap-2",children:[e.jsx("i",{className:"flex-center w-11 h-11 p-3 rounded-full hover:scale-105 bg-main-light",children:l.home.fill("#1C1C1E")}),"Dashboard"]}),e.jsx("li",{className:"flex-center gap-2",children:e.jsx("i",{className:"flex-center w-11 h-11 p-3 rounded-full hover:scale-105 bg-main-light/40",children:l.wallet.fill("#F5F6FA")})}),e.jsx("li",{className:"flex-center gap-2",children:e.jsx("i",{className:"flex-center w-11 h-11 p-3 rounded-full hover:scale-105 bg-main-light/40",children:l.barchart.fill("#F5F6FA")})}),e.jsx("li",{className:"flex-center gap-2",children:e.jsx("i",{className:"flex-center w-11 h-11 p-3 rounded-full hover:scale-105 bg-main-light/40",children:l.star.fill("#F5F6FA")})})]})});function U({children:t}){return e.jsxs("main",{className:"relative h-full p-3 flex-center bg-main-light",children:[e.jsx("section",{className:"w-full h-full max-w-screen-sm",children:t}),e.jsx(I,{})]})}function P(){return e.jsxs(U,{children:[e.jsxs("section",{className:"w-full max-w-screen-sm mt-6 py-3 flex flex-col items-center",children:[e.jsx("p",{className:"text-main-dark/50",children:"Gastos Totales"}),e.jsx("h1",{className:"text-4xl font-bold text-main-dark my-2",children:"$17,505.00"}),e.jsx("p",{className:"text-main-primary",children:"-$7,000.00"})]}),e.jsxs("section",{className:"w-full max-w-screen-sm flex justify-between items-center gap-2 py-3 px-6",children:[e.jsxs("button",{className:"w-1/2 flex-center gap-1 text-sm font-semibold bg-main-highlight/70 text-white rounded-3xl p-3 transition-colors duration-200 hover:bg-main-primary-dark",children:[e.jsx("i",{className:"flex-center w-6 h-6 rounded-full hover:scale-105",children:l.plus.fill("#FFFFFF")}),"Agregar"]}),e.jsxs("button",{className:"w-1/2 flex-center gap-1 text-sm font-semibold bg-main-dark/70 text-white rounded-3xl p-3 transition-colors duration-200 hover:bg-main-primary-dark",children:[e.jsx("i",{className:"flex-center w-6 h-6 rounded-full hover:scale-105",children:l.subtract.fill("#FFFFFF")}),"Retirar"]})]}),e.jsxs("section",{className:"w-full max-w-screen-sm py-3",children:[e.jsx("h2",{className:"text-dark text-lg font-semibold mb-4",children:"Notificaciones"}),e.jsx("div",{className:"bg-main-warning rounded-3xl p-4",children:e.jsx("p",{className:"text-dark font-medium",children:"¡Alerta! Has superado tu presupuesto mensual en un 75.05%."})})]}),e.jsxs("section",{className:"w-full max-w-screen-sm py-3",children:[e.jsx("h2",{className:"text-main-dark text-lg font-semibold mb-4",children:"Resumen Mensual"}),e.jsxs("div",{className:"bg-main-dark/5 rounded-3xl p-4 flex justify-between items-center",children:[e.jsx("span",{className:"text-main-dark",children:"Presupuesto"}),e.jsx("span",{className:"text-main-dark font-semibold",children:"$10,000.00"})]}),e.jsxs("div",{className:"bg-main-dark/5 rounded-3xl p-4 flex justify-between items-center mt-2",children:[e.jsx("span",{className:"text-main-dark",children:"Gastos Totales"}),e.jsx("span",{className:"text-main-dark font-semibold",children:"-$17,505.00"})]}),e.jsxs("div",{className:"bg-main-primary/20 rounded-3xl p-4 flex justify-between items-center mt-2",children:[e.jsx("span",{className:"text-main-primary font-semibold",children:"Exceso"}),e.jsx("span",{className:"text-main-primary font-semibold",children:"- $7,505.00 (75.05%)"})]})]}),e.jsxs("section",{className:"w-full max-w-screen-sm py-3 mb-20",children:[e.jsx("h2",{className:"text-main-dark text-lg font-semibold mb-4",children:"Últimos Gastos"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex justify-between items-center bg-main-dark/5 rounded-3xl p-4",children:[e.jsx("span",{className:"text-main-dark font-medium",children:"Comida"}),e.jsx("span",{className:"text-main-primary font-semibold",children:"-$500.00"})]}),e.jsxs("li",{className:"flex justify-between items-center bg-main-dark/5 rounded-3xl p-4",children:[e.jsx("span",{className:"text-main-dark font-medium",children:"Transporte"}),e.jsx("span",{className:"text-main-primary font-semibold",children:"-$300.00"})]}),e.jsxs("li",{className:"flex justify-between items-center bg-main-dark/5 rounded-3xl p-4",children:[e.jsx("span",{className:"text-main-dark font-medium",children:"Entretenimiento"}),e.jsx("span",{className:"text-main-primary font-semibold",children:"-$150.00"})]})]})]})]})}function R(){const{user:t}=h.useContext(v);return t?e.jsx(P,{}):e.jsx(D,{})}export{R as default};
