import{r,U as w,j as e,S as d,I as u}from"./index-oWpmuPqm.js";import{u as N}from"./useAuthRequired-sP1hi6dD.js";import{F as y}from"./Button-DMsbFMBo.js";function v(){const{isLoading:m,isAuthenticated:x}=N("/register","/gallery"),{loading:h,userAuth:C,userData:k,state:i}=r.useContext(w),[s,l]=r.useState(""),[n,f]=r.useState([]),[o,g]=r.useState(null);r.useEffect(()=>{const a=i.gastos.filter(t=>{var c;return(((c=t.image)==null?void 0:c.imageURL)||t.fileURL)&&(t.title.toLowerCase().includes(s.toLowerCase())||t.category.toLowerCase().includes(s.toLowerCase())||t.remarks.toLowerCase().includes(s.toLowerCase()))});f(a)},[s,i.gastos]);const p=a=>{l(a.target.value)},b=[{slug:()=>l(""),label:"Todos",anchor:""},{slug:()=>l("feeding"),label:"Alimentación y Bebidas",anchor:"feeding"},{slug:()=>l("transportation"),label:"Transporte",anchor:"transportation"},{slug:()=>l("health"),label:"Salud y Bienestar",anchor:"health"},{slug:()=>l("educationJob"),label:"Gastos de Educación o Trabajo",anchor:"educationJob"},{slug:()=>l("housing"),label:"Vivienda",anchor:"housing"},{slug:()=>l("entertainment"),label:"Entretenimiento y Ocio",anchor:"entertainment"},{slug:()=>l("personalCare"),label:"Ropa y Cuidado Personal",anchor:"personalCare"}],j=a=>{g(t=>t===a?null:a)};return m?e.jsx(d,{bgTheme:!0}):x?e.jsxs("div",{children:[e.jsx("section",{className:"w-full max-w-screen-sm mt-6 py-3 flex flex-col items-center",children:e.jsx("p",{className:"text-main-dark/50",children:"Galería de Tickets"})}),e.jsx("section",{className:"relative py-2 mb-2 flex items-center",children:e.jsxs("div",{className:"w-full flex-center pl-4 rounded-3xl bg-main-dark/5",children:[e.jsx("i",{className:"flex-center w-6 h-6 opacity-40",children:u.search.border("#1C1C1E")}),e.jsx("input",{type:"text",placeholder:"Filtrar gastos...",value:s,onChange:p,className:"w-full h-full pl-1 py-4 bg-transparent outline-none text-main-dark placeholder:text-main-dark/50",required:!0}),e.jsx(y,{label:e.jsx("i",{className:"flex-center w-6 h-6",children:u.filter.fill("#C2185B")}),items:b})]})}),e.jsxs("section",{className:"w-full max-w-screen-sm mb-20",children:[e.jsxs("hgroup",{className:"mb-4",children:[e.jsx("h2",{className:"text-main-dark py-2 text-lg font-semibold border-b border-main-dark/20",children:"Tickets de Gastos"}),e.jsxs("p",{className:"py-2 text-sm font-light text-main-dark/50",children:[n.length," Resultados"]})]}),h?e.jsx(d,{bgTheme:!0}):n.length>0?e.jsx("ul",{className:"w-full flex flex-wrap",children:n.sort((a,t)=>t.createdAt-a.createdAt).map(a=>{var t;return e.jsx("picture",{className:`${o===a.id?"w-full md:w-[72.666%]":"w-1/3 md:w-[24%]"} flex flex-col rounded-lg cursor-pointer transition-all duration-500 ease-in-out p-[1px]`,onClick:()=>j(a.id),children:e.jsx("img",{src:((t=a.image)==null?void 0:t.imageURL)||a.fileURL,alt:a.title,loading:"lazy",className:`object-cover w-full h-full md:min-h-[200px] rounded-lg blurred-img bg-neutral-250 dark:bg-[#000e2c] ${o===a.id?"scale-110":""}`})},a.id)})}):e.jsx("li",{className:"flex justify-between items-center bg-main-dark/5 rounded-3xl p-4",children:e.jsx("span",{className:"text-main-dark font-medium",children:"No hay tickets de gastos registrados"})})]})]}):null}export{v as default};
