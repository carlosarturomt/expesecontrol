import{r as p,j as e,I as r,N as g}from"./index-DQKeeZrZ.js";const N=({onClick:i,disabled:s,text:o,bgColor:l,isSubmit:m})=>e.jsx("button",{type:m?"submit":"button",className:`${l||"bg-main-blue/80"} ${l&&l.includes("bg-main-light")?"text-main-prusia":"text-white"} w-full flex-center gap-1 text-sm font-semibold bg-main-highlight/70 text-white rounded-3xl p-3 transition-colors duration-200 hover:bg-main-primary-dark`,onClick:i,disabled:s,children:o});function w({label:i,titleSectionOne:s,itemsSectionOne:o=[],titleSectionTwo:l,itemsSectionTwo:m=[]}){const x=p.useRef(null),[t,a]=p.useState(!1),d=n=>{x.current&&!x.current.contains(n.target)&&setTimeout(()=>{a(!1)},"100")},c=n=>{n.key==="Escape"&&t&&a(!1)};return p.useEffect(()=>(document.addEventListener("mousedown",d),document.addEventListener("keydown",c),t?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll"),()=>{document.body.classList.remove("no-scroll"),document.removeEventListener("mousedown",d),document.removeEventListener("keydown",c)})),e.jsxs("div",{className:"inline-block",children:[e.jsx("button",{className:`h-fit p-4 rounded-3xl font-medium text-sm ml-2 my-1 text-main-dark ${t?"opacity-100":"opacity-50"} `,"aria-haspopup":"true","aria-controls":i,onClick:()=>a(!t),ref:x,children:i}),e.jsx("div",{className:`absolute top-0 left-0 w-full h-full z-[100] bg-main-dark/80 ${t?"block":"hidden"}`,children:e.jsxs("div",{className:"flex flex-col mt-24 p-4 rounded-md bg-[#eaebee] shadow-sm shadow-main-dark/30",children:[e.jsxs("ul",{className:"pb-2",children:[e.jsx("li",{className:"py-2 font-semibold text-main-dark",children:s}),o.map((n,h)=>e.jsx("li",{className:"text-sm",onClick:()=>a(!t),children:e.jsxs("button",{className:"flex items-center gap-2 text-left w-full py-1 rounded-3xl text-main-dark hover:font-semibold",value:n.anchor,onClick:n.slug,children:[e.jsx("i",{className:"flex-center w-4 h-4",children:n.icon}),n.label]})},h))]}),e.jsxs("ul",{children:[e.jsx("li",{className:"py-2 font-semibold border-t border-main-dark/20 text-main-dark",children:l}),m.map((n,h)=>e.jsx("li",{className:"text-sm",onClick:()=>a(!t),children:e.jsxs("button",{className:"flex items-center gap-2 text-left w-full py-1 rounded-3xl text-main-dark hover:font-semibold",value:n.anchor,onClick:n.slug,children:[e.jsx("i",{className:"flex-center w-4 h-4",children:n.icon}),n.label]})},h))]})]})})]})}function k({context:i,data:s,onEdit:o,onDelete:l,expandedGastoId:m,onCardClick:x}){const[t,a]=p.useState(0),d=-50,c=-150,n=u=>{u.currentTarget.startX=u.touches[0].clientX},h=u=>{const b=u.touches[0].clientX-u.currentTarget.startX,y=Math.max(Math.min(b,0),c);a(y)},f=()=>{t<=c?(l(),a(0)):(t<=d&&o(),a(0))};return e.jsxs("div",{className:"relative flex items-center bg-main-dark/5 rounded-3xl overflow-hidden",children:[e.jsxs("div",{className:"relative w-full transition-transform duration-300 rounded-3xl",style:{transform:`translateX(${t}px)`},onTouchStart:n,onTouchMove:h,onTouchEnd:f,children:[e.jsxs("div",{className:`flex justify-between items-center p-4 ${t==-150&&"w-11/12"}`,onClick:()=>x(s.id),children:[e.jsx("span",{className:"text-main-dark font-medium",children:s.title}),e.jsxs("span",{className:"text-main-primary font-semibold",children:["-",new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(s.gasto)]})]}),m===s.id&&e.jsxs("div",{className:"px-4 pb-4 text-sm text-main-dark/60",children:[s.createdAt&&e.jsxs("p",{className:"flex flex-col pb-2 border-b border-main-dark/20",children:[e.jsx("strong",{className:"font-medium text-main-dark",children:"Fecha"}),(s.createdAt instanceof Date?s.createdAt:s.createdAt.toDate()).toLocaleDateString()]}),s.remarks&&e.jsxs("p",{className:"flex flex-col py-2 border-b border-main-dark/20",children:[e.jsx("strong",{className:"font-medium text-main-dark",children:"Notas"}),s.remarks]}),e.jsxs("div",{className:"flex items-center pt-3 gap-2 flex-wrap",children:[s.type&&e.jsx("p",{className:"w-fit flex flex-col py-1 px-2 rounded-3xl text-main-light bg-main-highlight",children:s.type.includes("card")&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:r.credit_card.border("#F5F6FA")}),s.type=="card1"&&i.paymentTypes.card1||s.type=="card2"&&i.paymentTypes.card2||s.type=="cash"&&"efectivo"]})||s.type.includes("cash")&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:r.money.border("#F5F6FA")}),s.type=="cash"&&"Efectivo"]})||s.type.includes("other")&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:r.bitcoin.border("#F5F6FA")}),s.type=="other"&&"Otro"]})}),s.category&&e.jsx("p",{className:"w-fit flex flex-col py-1 px-2 rounded-3xl text-main-light bg-main-primary",children:s.category=="feeding"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:r.restaurant.fill("#F5F6FA")}),"Alimentación y Bebidas"]})||s.category=="transportation"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:r.transportation.border("#F5F6FA")}),"Transporte"]})||s.category=="personalCare"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:r.beauty.border("#F5F6FA")}),"Ropa y Cuidado Personal"]})||s.category=="entertainment"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:r.theater_masks.border("#F5F6FA")}),"Entretenimiento y Ocio"]})||s.category=="housing"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:r.house.border("#F5F6FA")}),"Vivienda"]})||s.category=="health"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:r.care.border("#F5F6FA")}),"Salud y Bienestear"]})||s.category=="educationJob"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:r.ruler.border("#F5F6FA")}),"Educación o Trabajo"]})}),(s.image||s.fileURL)&&e.jsxs(g,{to:s.image&&s.image.imageURL||s.fileURL,target:"_blank",className:"w-fit flex-center gap-1 py-1 px-2 rounded-3xl text-main-light bg-main-dark",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:r.ticket.border("#F5F6FA")}),"ticket"]})]})]})]}),e.jsx("div",{className:`absolute inset-y-0 bg-main-highlight/70 text-white flex items-center justify-center transition-all duration-300 ${t==-150?"right-1/4":"right-0"}`,style:{width:`${Math.abs(t)>=Math.abs(d)?"25%":"0%"}`,opacity:Math.abs(t)>=Math.abs(d)?1:0},onClick:o,children:"Editar"}),e.jsx("div",{className:"absolute inset-y-0 right-0 bg-main-primary/70 text-white flex items-center justify-center transition-all duration-300",style:{width:`${Math.abs(t)>=Math.abs(c)?"25%":"0%"}`,opacity:Math.abs(t)>=Math.abs(c)?1:0},onClick:l,children:"Eliminar"})]})}export{w as F,k as S,N as a};
