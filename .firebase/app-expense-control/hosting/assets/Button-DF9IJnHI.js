import{r as x,j as e,I as a,N as y}from"./index-C5cV84kz.js";const j=({onClick:n,disabled:s,text:i,bgColor:t,isSubmit:l})=>e.jsx("button",{type:l?"submit":"button",className:`${t||"bg-main-blue/80"} ${t&&t.includes("bg-main-light")?"text-main-prusia":"text-white"} w-full flex-center gap-1 text-sm font-semibold bg-main-highlight/70 text-white rounded-3xl p-3 transition-colors duration-200 hover:bg-main-primary-dark`,onClick:n,disabled:s,children:i});function w({items:n=[],label:s}){const i=x.useRef(null),[t,l]=x.useState(!1);return e.jsxs("div",{className:"relative inline-block",children:[e.jsx("button",{className:`h-fit p-4 rounded-3xl font-medium text-sm ml-2 my-1 text-main-dark ${t?"opacity-100":"opacity-50"} `,"aria-haspopup":"true","aria-controls":s,onClick:()=>l(!t),ref:i,children:s}),e.jsxs("ul",{className:`absolute top-16 right-2 mt-2 p-4 z-[100] rounded-md bg-[#eaebee] shadow-sm shadow-main-dark/30 ${t?"grid grid-cols-[repeat(auto-fill,minmax(183px,1fr))]":"hidden"}`,children:[e.jsx("li",{className:"pb-2 mb-2 font-semibold border-b border-main-dark/20 text-main-dark",children:"Filtrar por categoría"}),n.map((c,r)=>e.jsx("li",{className:"text-sm",onClick:()=>l(!t),children:e.jsx("button",{className:"text-left w-full py-1 rounded-3xl text-main-dark hover:font-semibold",value:c.anchor,onClick:c.slug,children:c.label})},r))]})]})}function F({context:n,data:s,onEdit:i,onDelete:t,expandedGastoId:l,onCardClick:c}){const[r,d]=x.useState(0),h=-50,m=-150,p=o=>{o.currentTarget.startX=o.touches[0].clientX},f=o=>{const b=o.touches[0].clientX-o.currentTarget.startX,g=Math.max(Math.min(b,0),m);d(g)},u=()=>{r<=m?(t(),d(0)):(r<=h&&i(),d(0))};return e.jsxs("div",{className:"relative flex items-center bg-main-dark/5 rounded-3xl overflow-hidden",children:[e.jsxs("div",{className:"relative w-full transition-transform duration-300 rounded-3xl",style:{transform:`translateX(${r}px)`},onTouchStart:p,onTouchMove:f,onTouchEnd:u,children:[e.jsxs("div",{className:`flex justify-between items-center p-4 ${r==-150&&"w-11/12"}`,onClick:()=>c(s.id),children:[e.jsx("span",{className:"text-main-dark font-medium",children:s.title}),e.jsxs("span",{className:"text-main-primary font-semibold",children:["-",new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(s.gasto)]})]}),l===s.id&&e.jsxs("div",{className:"px-4 pb-4 text-sm text-main-dark/60",children:[s.createdAt&&e.jsxs("p",{className:"flex flex-col pb-2 border-b border-main-dark/20",children:[e.jsx("strong",{className:"font-medium text-main-dark",children:"Fecha"}),s.createdAt.toDate().toLocaleDateString()]}),s.remarks&&e.jsxs("p",{className:"flex flex-col py-2 border-b border-main-dark/20",children:[e.jsx("strong",{className:"font-medium text-main-dark",children:"Notas"}),s.remarks]}),e.jsxs("div",{className:"flex items-center pt-3 gap-2 flex-wrap",children:[s.type&&e.jsx("p",{className:"w-fit flex flex-col py-1 px-2 rounded-3xl text-main-light bg-main-highlight",children:s.type.includes("card")&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:a.credit_card.border("#F5F6FA")}),s.type=="card1"&&n.paymentTypes.card1||s.type=="card2"&&n.paymentTypes.card2||s.type=="cash"&&"efectivo"]})||s.type.includes("cash")&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:a.money.border("#F5F6FA")}),s.type=="cash"&&"Efectivo"]})||s.type.includes("other")&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:a.bitcoin.border("#F5F6FA")}),s.type=="other"&&"Otro"]})}),s.category&&e.jsx("p",{className:"w-fit flex flex-col py-1 px-2 rounded-3xl text-main-light bg-main-primary",children:s.category=="feeding"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:a.restaurant.fill("#F5F6FA")}),"Alimentación y Bebidas"]})||s.category=="transportation"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:a.transportation.border("#F5F6FA")}),"Transporte"]})||s.category=="personalCare"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:a.care.border("#F5F6FA")}),"Ropa y Cuidado Personal"]})||s.category=="entertainment"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:a.theater_masks.border("#F5F6FA")}),"Entretenimiento y Ocio"]})||s.category=="housing"&&e.jsxs("span",{className:"flex-center gap-1",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:a.house.border("#F5F6FA")}),"Vivienda"]})}),s.fileURL&&e.jsxs(y,{to:s.fileURL,target:"_blank",className:"w-fit flex-center gap-1 py-1 px-2 rounded-3xl text-main-light bg-main-dark",children:[e.jsx("i",{className:"w-4 h-4 flex-center",children:a.ticket.border("#F5F6FA")}),"ticket"]})]})]})]}),e.jsx("div",{className:`absolute inset-y-0 bg-main-highlight/70 text-white flex items-center justify-center transition-all duration-300 ${r==-150?"right-1/4":"right-0"}`,style:{width:`${Math.abs(r)>=Math.abs(h)?"25%":"0%"}`,opacity:Math.abs(r)>=Math.abs(h)?1:0},onClick:i,children:"Editar"}),e.jsx("div",{className:"absolute inset-y-0 right-0 bg-main-primary/70 text-white flex items-center justify-center transition-all duration-300",style:{width:`${Math.abs(r)>=Math.abs(m)?"25%":"0%"}`,opacity:Math.abs(r)>=Math.abs(m)?1:0},onClick:t,children:"Eliminar"})]})}export{w as F,F as S,j as a};
